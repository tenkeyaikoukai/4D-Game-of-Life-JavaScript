<html>
<head>
<title>4d life game</title>
<style>body{background-color:black;color:white;}</style>
</head>
<body>
<div id="test">test</div>
<canvas id="c3" width=500 height=500></canvas>
<script language="javascript">
var mtx=new Array();
var mtx2=new Array();
var cvs=document.getElementById('c3');
var ctx=cvs.getContext('2d');
var i,j,k,l,k20,ti,r,count,l20,c;
for(i=0;i<=11;i++){
for(j=0;j<=11;j++){
for(k=0;k<=11;k++){
for(l=0;l<=11;l++){
mtx[l*1000+k*100+j*10+i]=0;
mtx2[l*1000+k*100+j*10+i]=0;
}
}
}
}
for(i=1;i<=10;i++){
for(j=1;j<=10;j++){
for(k=1;k<=10;k++){
for(l=1;l<=10;l++){
r=Math.floor(Math.random()*5+1);
if(r==1){mtx[l*1000+k*100+j*10+i]=1;}
}
}
}
}
draw();
ti=setInterval("routine()",1000);
document.getElementById("test").innerHTML="outside routine";
function routine(){

document.getElementById("test").innerHTML="inside routine";

//check
for(i=1;i<=10;i++){
for(j=1;j<=10;j++){
for(k=1;k<=10;k++){
for(l=1;l<=10;l++){
count=0;
if(mtx[l*1000+k*100+j*10+i-1]==1){count++;}
if(mtx[l*1000+k*100+j*10+i+1]==1){count++;}
if(mtx[l*1000+k*100+(j-1)*10+i]==1){count++;}
if(mtx[l*1000+k*100+(j+1)*10+i]==1){count++;}
if(mtx[l*1000+(k-1)*100+j*10+i]==1){count++;}
if(mtx[l*1000+(k+1)*100+j*10+i]==1){count++;}
if(mtx[(l-1)*1000+k*100+j*10+i]==1){count++;}
if(mtx[(l+1)*1000+k*100+j*10+i]==1){count++;}
if(mtx[l*1000+k*100+j*10+i]==1){
if(count==2 || count==3){mtx2[l*1000+k*100+j*10+i]=1;}
else{mtx2[l*1000+k*100+j*10+i]=0;}
}
if(mtx[l*1000+k*100+j*10+i]==0){
if(count==3){mtx2[l*1000+k*100+j*10+i]=1;}
else{mtx2[l*1000+k*100+j*10+i]=0;}
}
}
}
}
}
draw();
for(i=1;i<=10;i++){
for(j=1;j<=10;j++){
for(k=1;k<=10;k++){
for(l=1;l<=10;l++){
mtx[l*1000+k*100+j*10+i]=mtx2[l*1000+k*100+j*10+i];
}
}
}
}


}

function draw(){

ctx.fillStyle="rgb(0,0,0)";
ctx.fillRect(0,0,500,500);
for(i=1;i<=10;i++){
for(j=1;j<=10;j++){
for(k=1;k<=10;k++){
for(l=10;l>=1;l--){
if(mtx[l*1000+k*100+j*10+i]==1){
k20=k*10;l20=l*10;c=k20+l20;

//ctx.fillStyle="rgb(0,"+k20+",0)";
ctx.fillStyle="rgb(0,"+c+",0)";
//ctx.fillRect(i*50,j*50,l*5/2,l*5/2);
ctx.fillRect(i*50+k*5,j*50+l*5,5,5);
}

}
}
}
}


}

</script>
</body>
</html>
